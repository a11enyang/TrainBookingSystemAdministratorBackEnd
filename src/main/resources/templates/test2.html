<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>个人中心</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
    <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
    <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<div class="page-header">
    <div class="row">
        <div class="col-md-3">
            <h1 style="margin-left: 50px">
                <a href="#" class="router-link-active">
                    <span class="logo-name">Alexzander</span>
                </a>
            </h1>
        </div>
        <div class="col-md-6" style="margin-top: 20px">
            <div class="navbar-search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="车票/订单/...">
                    <span class="input-group-btn">
                            <button class="btn btn-default" type="button">搜索</button>
                        </span>
                </div><!-- /input-group -->
            </div>
        </div>
        <div class="col-md-3" style="margin-top: 15px ; padding-left: 50px" th:unless="${names}">
            <ul class="nav nav-pills">
                <li role="presentation" class="active"><a href="#" th:href="@{/pcenter}">个人中心</a></li>
                <li role="presentation"><a href="#" th:href="@{/login}">登录</a></li>
                <li role="presentation"><a href="#" th:href="@{/register}">注册</a></li>
            </ul>
        </div>

        <div class="col-md-3" style="margin-top: 15px ; padding-left: 50px"  th:if="${names}">
            <ul class="nav nav-pills">
                <li role="presentation" class="active"><a href="#" th:href="@{/pcenter}">个人中心</a></li>
                <img th:src="@{/picture/userimg.jpg}"  style="float: left;width: 50px;height: 50px;margin-left: 20px;margin-top: -5px">
                <li role="presentation" ><a href="#" th:text="${names}"></a></li>
                <li role="presentation" onclick="logout()"><a href="#" >注销</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="main-tap">
    <div class="row">
        <div class="col-md-2" id="tableft">
            <ul class="nav nav-pills tab-title" id="myTab">
                <li class="active"><a href="#ordermanage" data-toggle="tab">订单信息</a></li>
                <li><a href="#personalmanage" data-toggle="tab">个人信息</a></li>
                <li><a href="#infomanage" data-toggle="tab">乘车信息</a></li>
            </ul>
        </div>
        <div class="col-md-8">
            <div class="tab-content">
                <!--1-->
                <div class="tab-pane active" id="ordermanage">
                    <div class="tabbable" style="margin: 3px;">
                        <ul class="nav nav-pills tab-sectitle" id="divstyletab">
                            <li class="active"><a href="#tab11" data-toggle="tab">未支付订单</a></li>
                            <li><a href="#tab12" data-toggle="tab">未完成订单</a></li>
                            <li><a href="#tab13" data-toggle="tab">历史订单</a></li>
                        </ul>
                        <div class="tab-content">
                            <!-- 第一个tab -->
                            <div class="tab-pane fade active in" id="tab11">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th>车次</th>
                                        <th>乘客姓名</th>
                                        <th>座位号</th>
                                        <th>车票价格</th>
                                        <th>起点/目的车站</th>
                                        <th>入站/抵达时间</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>G507</td>
                                        <td>杨韦岽</td>
                                        <td>3-232</td>
                                        <td>¥99</td>
                                        <td>重庆站/北京西站</td>
                                        <td>2020.4.30 16:20/2020.5.1 6:10</td>
                                        <td>
                                            <button type="button" class="btn btn-danger">退票</button>
                                            <button type="button" class="btn btn-success">支付</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>G507</td>
                                        <td>杨韦岽</td>
                                        <td>3-232</td>
                                        <td>¥99</td>
                                        <td>重庆站/北京西站</td>
                                        <td>2020.4.30 16:20/2020.5.1 6:10</td>
                                        <td>
                                            <button type="button" class="btn btn-danger">退票</button>
                                            <button type="button" class="btn btn-success">支付</button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- 第二个tab -->
                            <div class="tab-pane fade" id="tab12">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th>车次</th>
                                        <th>乘客姓名</th>
                                        <th>座位号</th>
                                        <th>车票价格</th>
                                        <th>起点/目的车站</th>
                                        <th>入站/抵达时间</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>G507</td>
                                        <td>杨韦岽</td>
                                        <td>3-232</td>
                                        <td>¥99</td>
                                        <td>重庆站/北京西站</td>
                                        <td>2020.4.30 16:20/2020.5.1 6:10</td>
                                        <td>
                                            <button type="button" class="btn btn-danger">退票</button>
                                            <button type="button" class="btn btn-warning">改签</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>G507</td>
                                        <td>杨韦岽</td>
                                        <td>3-232</td>
                                        <td>¥99</td>
                                        <td>重庆站/北京西站</td>
                                        <td>2020.4.30 16:20/2020.5.1 6:10</td>
                                        <td>
                                            <button type="button" class="btn btn-danger">退票</button>
                                            <button type="button" class="btn btn-warning">改签</button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- 第三个tab -->
                            <div class="tab-pane fade" id="tab13">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th>车次</th>
                                        <th>乘客姓名</th>
                                        <th>座位号</th>
                                        <th>车票价格</th>
                                        <th>起点/目的车站</th>
                                        <th>入站/抵达时间</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>G507</td>
                                        <td>杨韦岽</td>
                                        <td>3-232</td>
                                        <td>¥99</td>
                                        <td>重庆站/北京西站</td>
                                        <td>2020.4.30 16:20/2020.5.1 6:10</td>
                                    </tr>
                                    <tr>
                                        <td>G507</td>
                                        <td>杨韦岽</td>
                                        <td>3-232</td>
                                        <td>¥99</td>
                                        <td>重庆站/北京西站</td>
                                        <td>2020.4.30 16:20/2020.5.1 6:10</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- 中间图表结束 -->
                        </div>
                    </div>
                </div>
                <!-- 2 -->
                <div class="tab-pane" id="personalmanage">
                    <div class="panel panel-info">
                        <!-- Default panel contents -->
                        <div class="panel-heading" style="height: 60px;">
                            <div style="margin-top: 10px; width: 100px; float: left;">用户信息</div>
                            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myInfoEdit" style="float: right;">编辑</button>
                        </div>
                        <div class="info-body">
                            <div class="info-item row">
                                <div class="info-label col-md-2">用户名:</div>
                                <div class="info-bd col-md-6"><span th:text="${names}"></span></div>
                            </div>
                            <div class="info-item row">
                                <div class="info-label col-md-2">姓名:</div>
                                <div class="info-bd col-md-6"><span th:text="${names}"></span></div>
                            </div>
                            <div class="info-item row">
                                <div class="info-label col-md-2">性别:</div>
                                <div class="info-bd col-md-6"><span th:text="${types}"></span></div>
                            </div>
                            <div class="info-item row">
                                <div class="info-label col-md-2">证件号:</div>
                                <div class="info-bd col-md-6"><span th:text="${personIds}"></span></div>
                            </div>
                            <div class="info-item row">
                                <div class="info-label col-md-2">联系电话:</div>
                                <div class="info-bd col-md-6"><p th:text="${phonenums}"></p></div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- 3 -->
                <div class="tab-pane" id="infomanage">
                    <div class="panel panel-info">
                        <!-- Default panel contents -->
                        <div class="panel-heading" style="height: 60px;">
                            <div style="margin-top: 10px; width: 100px; float: left;">常用乘车信息</div>
                            <button type="button" class="btn btn-success" data-toggle="modal"
                                    data-target="#moreinfo" style="float: right;">新增乘车信息</button>
                        </div>
                        <!-- Table -->
                        <table class="ui compact teal table">
                            <thead>
                            <tr>
                                <th>序号</th>
                                <th>姓名</th>
                                <th>证件号</th>
                                <th>联系电话</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="type,iterStat : ${page.content}">
                                <td  th:text="${iterStat.count}"></td>
                                <td  th:text="${type.id}"></td>
                                <td th:text="${type.name}"></td>
                                <td th:text="${type.phonenum}"></td>
                                <td th:text="${type.personId}"></td>
                                <td>
                                    <!--                                        <a href="#" th:href="@{/admin/types/{id}/input(id=${type.id})}" class="ui mini teal basic button">编辑</a>
                                                                            <a href="#" th:href="@{/admin/types/{id}/delete(id=${type.id})}" class="ui mini red basic button">删除</a>-->
                                    <button type="button" class="btn btn-danger" >删除</button>
                                    <button type="button" class="btn btn-warning">更改</button>
                                </td>
                            </tr>
                            </tbody>
                            <tfoot>
                            <tr>
                                <th colspan="6" th:if="${page.totalPages}>1">
                                    <div class="ui mini pagination menu" >

                                        <a th:href="@{/pcenter(page=${page.number}-1)}" class=" item" th:unless="${page.first}">上一页</a>
                                        <a th:href="@{/pcenter(page=${page.number}+1)}" class="item" th:unless="${page.last}">下一页</a>
                                    </div>
                                    <!--                                        <a href="#" th:href="@{/pcenter/contact/input}"  class="ui mini right floated teal basic button">新增</a>-->
                                </th>
                            </tr>
                            </tfoot>
                        </table>

                    </div>
                </div>
                <!-- tab end -->
            </div>
        </div>
    </div>
</div>
<!-- 新增乘车信息的弹窗 -->
<div class="modal fade" id="moreinfo" tabindex="-1" role="dialog" aria-labelledby="moreinfoLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color:  #d9edf7;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="moreinfoLabel">新增乘车信息</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="contactInputName">姓名</label>
                        <input type="text" class="form-control" id="contactInputName" placeholder="姓名">
                    </div>
                    <div class="form-group">
                        <label for="contactInputIDNum">身份证号</label>
                        <input type="text" class="form-control" id="contactInputIDNum" placeholder="身份证号">
                    </div>
                    <div class="form-group">
                        <label for="contactInputPhoneNum">联系电话</label>
                        <input type="text" class="form-control" id="contactInputPhoneNum" placeholder="联系电话">
                    </div>
                    <button type="submit" class="btn btn-danger">提交</button>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<!-- 编辑个人信息的弹窗 -->
<div class="modal fade" id="myInfoEdit" tabindex="-1" role="dialog" aria-labelledby="myInfoEditLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color:  #d9edf7;">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myInfoEditLabel">编辑个人信息</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="myInputVname">用户名</label>
                        <input type="text" class="form-control" id="myInputVname" placeholder="用户名">
                    </div>
                    <div class="form-group">
                        <label for="myInputName">姓名</label>
                        <input type="text" class="form-control" id="myInputName" placeholder="姓名">
                    </div>
                    <div class="form-group">
                        <label for="MyInputSex">性别</label>
                        <input type="text" class="form-control" id="myInputSex" placeholder="性别">
                    </div>
                    <div class="form-group">
                        <label for="myInputIDNum">身份证号</label>
                        <input type="text" class="form-control" id="myInputIDNum" placeholder="身份证号">
                    </div>
                    <div class="form-group">
                        <label for="myInputPhoneNum">联系电话</label>
                        <input type="text" class="form-control" id="myInputPhoneNum" placeholder="联系电话">
                    </div>
                    <button type="submit" class="btn btn-danger">提交</button>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
<script src="/webjars/axios/0.19.0/dist/axios.min.js"></script>
<script src="/webjars/vue/2.6.11/vue.min.js"></script>
<script type="text/javascript">
    $(".tab-title li").click(function () {
        var getpicknum=$(this).index();
        console.log("当前一级标签下标为："+getpicknum);
        sessionStorage.setItem("num",getpicknum);
    })
   $(".tab-sectitle li").click(function () {
        var getsecond=$(".tab-sectitle li").index();
        console.log("当前二级标签的下标为:"+getsecond);
        sessionStorage.setItem("secnum",getsecond);
    })
    $(function () {
        //var getnum=sessionStorage.getItem("num");

    })
</script>
<script type="text/javascript">
    $(function () {
        $('#myTab a').click(function (e) {
            e.preventDefault();
            $(this).tab('show');
        });
        $('#divstyletab a').click(function (e) {
            e.preventDefault();
            $(this).tab('show');
        });
    })
</script>
<script type="text/javascript">
    function logout() {
        var url="/admin/logout";
        $.post(url,null,function () {
            window.location='/pcenter';
        });
    }
</script>
<style>
    .main-tap {
        margin-top: 50px;
    }

    #tableft ul {
        flex-direction: row;
        justify-content: center;
    }

    #tableft ul li {
        float: left;
        list-style: none;
        margin-left: 100px;
        margin-top: 30px;
    }

    .info-item {
        margin: 10px 0px 10px 100px;
    }
</style>
</body>

</html>